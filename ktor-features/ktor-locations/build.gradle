description = ''
kotlin.sourceSets.jvmMain.dependencies {
    api project(':ktor-features:ktor-auth')
    api project(':common-features:ktor-locations-core')
    api("org.jetbrains.kotlinx:kotlinx-serialization-runtime:$serialization_version")
}

apply plugin: 'kotlinx-serialization'

kotlin {
    configure(sourceSets) {
        languageSettings {
            useExperimentalAnnotation("io.ktor.locations.KtorExperimentalLocationsAPI")
        }
    }
}

tasks.withType(org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile).all { task ->
    if (!task.name.contains("Test")) {
        task.kotlinOptions.freeCompilerArgs += ["-Xexplicit-api=warning"]
    }
}
